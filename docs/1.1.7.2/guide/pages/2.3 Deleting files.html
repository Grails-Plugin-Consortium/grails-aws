<html>
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
        <title>2.3 Deleting files</title>
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" title="Ref" charset="utf-8"/>
    </head>
    <body class="body">
    You can delete files from Amazon S3 just knowing the bucket name and full path for it (just file name or path + file name)<p class="paragraph"/>It is damn simple, like the examples below<p class="paragraph"/>You'll first need to define the <strong class="bold">aws</strong> bean that is provided by the plugin:<p class="paragraph"/><div class="code"><pre>class MyController &#123;<p class="paragraph"/>    def aws<p class="paragraph"/>    def myAction = &#123;
        (...)
    &#125;
&#125;</pre></div><p class="paragraph"/>After that, you will use the <strong class="bold">aws</strong> bean and call the <strong class="bold">s3()</strong> method. This will return a helper for S3 Service. After that, you set the target bucket and then call the <strong class="bold">delete</strong> method.<p class="paragraph"/><h3>Deleting files stored on the root of some bucket (without path):</h3><p class="paragraph"/>To delete the "photo.jpg" file stored under "my-app-bucket-photos" bucket (http://my-app-bucket-photos.s3.amazonaws.com/photo.jpg)<p class="paragraph"/><div class="code"><pre>aws.s3().on(<span class="java&#45;quote">"my&#45;app&#45;bucket&#45;photos"</span>).delete(<span class="java&#45;quote">"photo.jpg"</span>)</pre></div><p class="paragraph"/><h3>Deleting files stored in some path of one bucket:</h3><p class="paragraph"/>To delete the "avatar.jpg" file stored under "my-app-bucket-avatars" bucket and path "/users/lucastex/" (http://my-app-bucket-avatars.s3.amazonaws.com/users/lucastex/avatar.jpg)<p class="paragraph"/><div class="code"><pre>aws.s3().on(<span class="java&#45;quote">"my&#45;app&#45;bucket&#45;avatars"</span>).delete(<span class="java&#45;quote">"avatar.jpg"</span>, <span class="java&#45;quote">"/users/lucastex/"</span>)</pre></div>
    </body>
</html>
