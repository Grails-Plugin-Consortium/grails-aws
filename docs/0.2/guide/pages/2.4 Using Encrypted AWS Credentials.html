<html>
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
        <title>2.4 Using Encrypted AWS Credentials</title>
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" title="Ref" charset="utf-8"/>
    </head>
    <body class="body">
    You can use encrypted AWS credentials with this plugin. Doing this, your access/secret keys won't be stored inside your app.<p class="paragraph"/>To use this, you have to define your encrypted credentials in resources.xml or resources.groovy file and later, pass it to <strong class="bold">credentials</strong> method inside upload credentials.<p class="paragraph"/><strong class="bold">resources.xml</strong><p class="paragraph"/><div class="code"><pre>&#60;bean id=<span class="java&#45;quote">"s3Credential"</span> class=<span class="java&#45;quote">"org.jets3t.service.security.AWSCredentials"</span> factory&#45;method=<span class="java&#45;quote">"load"</span>&#62;
    &#60;constructor&#45;arg value=<span class="java&#45;quote">"password"</span> /&#62;
    &#60;constructor&#45;arg value=<span class="java&#45;quote">"./grails&#45;app/conf/s3credentials.encrypted"</span> /&#62;
&#60;/bean&#62;</pre></div><p class="paragraph"/>Later, you'll inject it on your controller<p class="paragraph"/><div class="code"><pre>def s3Credential</pre></div><p class="paragraph"/>and in your file upload<p class="paragraph"/><div class="code"><pre>def uploadedFile = <span class="java&#45;keyword">new</span> File(<span class="java&#45;quote">"/tmp/test.txt"</span>).s3upload &#123;
	credentials s3Credentials
&#125;</pre></div><p class="paragraph"/>This way, the upload will connect with AWS using the encrypted credentials stored in "./grails-app/conf/s3credentials.encrypted"

    </body>
</html>
