<html>
    <head>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8"/>
        <title>1 Introduction to Grails AWS Plugin</title>
        <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen" title="Ref" charset="utf-8"/>
    </head>
    <body class="body">
    <h1><a name="1 Introduction to Grails AWS Plugin">1 Introduction to Grails AWS Plugin</a></h1>Grails AWS plugin intends to provide most of any other reason, an EASY WAY to access and use AWS services.<p class="paragraph"/>Not all services are included in the plugin, you can check this guide to see what you can do and how.
If you want to contribute with another service that is not implemented yet, check Section <strong class="bold">"Contributions ad Reporting Bugs"</strong> of this guide.<h2><a name="1.1 Installing Grails AWS Plugin">1.1 Installing Grails AWS Plugin</a></h2>As other grails plugins you <strong class="bold">can</strong> install it using the <code>install-plugin</code> command like this:<p class="paragraph"/><div class="code"><pre>grails install&#45;plugin aws</pre></div><p class="paragraph"/>But since Grails 1.3.x, it is possible (and I <strong class="bold">really encourage you doing this</strong>) to declare the plugin dependency in the <code>BuildConfig.groovvy</code> file, as shown here:<p class="paragraph"/><div class="code"><pre>grails.project.dependency.resolution = &#123;
    inherits(<span class="java&#45;quote">"global"</span>) &#123; &#125;
    log <span class="java&#45;quote">"info"</span>
    repositories &#123;
        //your repositories
    &#125;
    dependencies &#123;
        //your regular dependencies
    &#125;
    plugins &#123;
        //here go your plugin dependencies
        runtime ':aws:1.1.7.3'
    &#125;
&#125;</pre></div><p class="paragraph"/>Note the <code>aws</code> as the plugin name, and the <code>1.1.7.3</code> as the plugin version. As the time you're reading this, 1.1.7.3 won't probably be the last version, so change it for the correct version you want to grab, or use <strong class="bold">latest.release</strong> as version to grab the latest one.<h2><a name="1.2 Getting the source code">1.2 Getting the source code</a></h2>If you want to get the source code for this plugin, check Blanq Github's repository at <a href="http://github.com/blanq/grails-aws" target="blank">http://github.com/blanq/grails-aws</a><h2><a name="1.3 Configuring the plugin in your application">1.3 Configuring the plugin in your application</a></h2>You'll have to configure the plugin in Config.groovy to set AWS credentials and other properties specifically to each AWS service you may use.<h2><a name="1.3.1 Setting AWS Credentials">1.3.1 Setting AWS Credentials</a></h2><h3>Setting AWS Credentials</h3><p class="paragraph"/>You can set your access-key and secret-key in two different manners as below<p class="paragraph"/><h4>Property-file credentials configuration</h4><p class="paragraph"/>As recommended by Amazon, you can use a .properties file to handle your secret and access keys for this plugin.<p class="paragraph"/>You'll have to create some properties file with the content as show below:<p class="paragraph"/><div class="code"><pre>accessKey = your&#45;access&#45;key
secretKey = your&#45;secret&#45;key</pre></div><p class="paragraph"/>And then, you will have to tell your application in Config.groovy to read this property file:<p class="paragraph"/><div class="code"><pre>grails &#123;
   plugin &#123;
      aws &#123;
         credentials &#123;
            properties = <span class="java&#45;quote">"/my/path/to/AwsCredentials.properties"</span>
         &#125;
      &#125;
   &#125;
&#125;</pre></div><p class="paragraph"/><h4>Plain-text credentials configuration</h4><p class="paragraph"/>If you don't have access to the filesystem in someway, or prefer to set the access and secret key directly in Config.groovy, you can do it this way:<p class="paragraph"/><div class="code"><pre>grails &#123;
   plugin &#123;
      aws &#123;
         credentials &#123;
            accessKey = <span class="java&#45;quote">"your&#45;access&#45;key"</span>
            secretKey = <span class="java&#45;quote">"your&#45;secret&#45;key"</span>
         &#125;
      &#125;
   &#125;
&#125;</pre></div><p class="paragraph"/><blockquote class="warning">
Remember, if you set a properties file, it will take priority over this way.
</blockquote><p class="paragraph"/><h4>Using System Properties as credentials</h4><p class="paragraph"/>Sometimes, you still don't have access to filesystem, but don't want to store your credentials wide open in your configuration file, or you want to deploy the same app in more than one place, and use different credentials for each one. So, in these cases, the best approach to solve this, is to pass them as <code>-D</code> params to your application server. It is easy and the plugin will understand this as a plain text credential, but with nothing hardcoded in your app.<p class="paragraph"/>You'll have to start your console passing the accessKey and secretKey as param values. In the dev environment, would be like this:<p class="paragraph"/><div class="code"><pre>grails &#45;DawsAccessKey=xxxxxx &#45;DawsSecretKey=yyyyyy run&#45;app</pre></div><p class="paragraph"/>After this, just setup your credentials as described below:<p class="paragraph"/><div class="code"><pre>grails &#123;
   plugin &#123;
      aws &#123;
         credentials &#123;
            accessKey = <span class="java&#45;object">System</span>.properties&#91;'awsAccessKey'&#93;
            secretKey = <span class="java&#45;object">System</span>.properties&#91;'awsSecretKey'&#93;
         &#125;
      &#125;
   &#125;
&#125;</pre></div><p class="paragraph"/>We shall thank groovy config files, that allow directly programming into it!<h2><a name="1.4 Gant scripts">1.4 Gant scripts</a></h2>Grails AWS Plugin brings some scripts to use in your app, all scripts names follow this rule:<p class="paragraph"/><div class="code"><pre>aws&#45;&#91;service&#93;&#45;&#91;operation&#93;</pre></div><p class="paragraph"/>So, all scripts are prefixed with 'aws', followed by its service code, and then the operation name, almost always the same operation name in the corresponding WSDL. For example, to connect with SES and check your sending email statistics (GetSendStatistics operation), you'll have to execute:<p class="paragraph"/><div class="code"><pre>grails aws&#45;ses&#45;get&#45;send&#45;statistics</pre></div><p class="paragraph"/>All information are printed in your screen, and when you need to interact with parameters, the script will prompt you.<p class="paragraph"/>More detailed information on scripts can be found in the left frame of the screen.
    </body>
</html>
