<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
                      "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
    <title>3.2 Sending text emails 1.2.12.3</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <link rel="stylesheet" href="../css/main.css" type="text/css" media="screen, print" title="Style" charset="utf-8"/>
    <link rel="stylesheet" href="../css/pdf.css" type="text/css" media="print" title="PDF" charset="utf-8"/>
    <script type="text/javascript">
function addJsClass() {
    var classes = document.body.className.split(" ");
    classes.push("js");
    document.body.className = classes.join(" ");
}
    </script>
</head>

<body class="body" onload="addJsClass();">
<div id="navigation">
    <ul>
        <li>
            <div id="nav-summary" onmouseover="toggleNavSummary(false)" onmouseout="toggleNavSummary(true)">
                <a href="../../guide/index.html" class="button">Table of contents</a>

                <div id="nav-summary-childs" style="display:none;">
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/1%20Introduction%20to%20Grails%20AWS%20Plugin.html"><strong>1</strong><span>Introduction to Grails AWS Plugin</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/2%20Amazon%20Simple%20Storage%20Service%20(AWS%20S3).html"><strong>2</strong><span>Amazon Simple Storage Service (AWS S3)</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/3%20Amazon%20Simple%20Email%20Service%20(AWS%20SES).html"><strong>3</strong><span>Amazon Simple Email Service (AWS SES)</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/4%20FAQ.html"><strong>4</strong><span>FAQ</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/5%20Roadmap.html"><strong>5</strong><span>Roadmap</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/6%20Changelog.html"><strong>6</strong><span>Changelog</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/7%20Contributions%20and%20reporting%20bugs.html"><strong>7</strong><span>Contributions and reporting bugs</span></a>
                    </div>
                    
                    <div class="toc-item" style="margin-left:0"><a href="../../guide/8%20Contact.html"><strong>8</strong><span>Contact</span></a>
                    </div>
                    
                </div>
            </div>
        </li>
        <li class="separator selected">
            <a id="ref-button" onclick="localToggle(); return false;" href="#">Quick Reference</a>
        </li>
    </ul>
</div>
<div id="header">
    <div class="images clearfix">
        
        
    </div>
    <p>Amazon Web Services (AWS) grails plugin provides easy access to simpler functions of AWS</p>
</div>


<table id="colset" border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td id="col1">
            <div id="main" class="corner-all">

                
                    <div class="toc-item prev-left"><a href="../../guide/2%20Amazon%20Simple%20Storage%20Service%20(AWS%20S3).html">&lt;&lt; <strong>2</strong><span>Amazon Simple Storage Service (AWS S3)</span></a></div>
                

                <span id='toggle-col1' class="toggle">(<a href="#" onclick="localToggle(); return false;">Quick Reference</a>)</span>

                
                    <div class="toc-item next-right"><a href="../../guide/4%20FAQ.html"><strong>4</strong><span>FAQ</span> >></a></div>
                


                <div class="project">
                    <h1>3.2 Sending text emails - Reference Documentation</h1>

                    <p><strong>Authors:</strong> Lucas Teixeira, Jay Prall</p>

                    <p><strong>Version:</strong> 1.2.12.3</p>

                    
                </div>

                

                

<h2 id="3.2 Sending text emails">3.2 Sending text emails</h2>
To send e-mails, just call the <strong class="bold">sesMail</strong> closure in your controllers or services<p class="paragraph"/><div class="code"><pre>def mailId = sesMail &#123;
    from <span class="java&#45;quote">"origin@gmail.com"</span>
    to <span class="java&#45;quote">"test&#45;email@gmail.com"</span>
    subject <span class="java&#45;quote">"test plain text mail"</span>
    body <span class="java&#45;quote">"<span class="java&#45;keyword">this</span> is the e&#45;mail content, sent at: ($&#123;<span class="java&#45;keyword">new</span> Date().format('dd/MM/yyyy HH:mm')&#125;)"</span>
&#125;</pre></div><p class="paragraph"/>The <strong class="bold">sesMail</strong> returns an unique identifier for this e-mail at Amazon infrastructure, as this one:<p class="paragraph"/><div class="code"><pre>0000012dcde0ea1c&#45;d331d2ec&#45;3972&#45;4a6c&#45;825f&#45;fc980cde3352&#45;000000</pre></div><p class="paragraph"/>Amazon don't provide anything useful to do with this <strong class="bold">id</strong> yet, but I imagine that in a near future, you'll be able to retrieve if this email was delivered correctly, or if it was spammed or bounced. So, feel free to store it if you want to.<p class="paragraph"/><h3>Closure parameters</h3><p class="paragraph"/><h4>AWS Credentials</h4><p class="paragraph"/>As the S3 file upload support, you can override AWS credentials settings for sending mails. This is rare and unusual, but if you really need, do the same as in S3.<p class="paragraph"/><div class="code"><pre>credentials <span class="java&#45;quote">"<span class="java&#45;keyword">new</span>&#45;access&#45;key"</span>, <span class="java&#45;quote">"<span class="java&#45;keyword">new</span>&#45;secret&#45;key"</span></pre></div><p class="paragraph"/>Just remember, if this new AWS credentials belong to another AWS account, this account will have to be subscribed to SES service and have verified e-mails to send.<p class="paragraph"/><h4>Defining the sender</h4><p class="paragraph"/>As seen in the other topic, you can set this default address in the application Config, but if you want to explicitly set the address in each email you send, just override the <strong class="bold">from</strong> method:<p class="paragraph"/><div class="code"><pre>from <span class="java&#45;quote">"my&#45;other&#45;email@gmail.com"</span></pre></div><p class="paragraph"/><h4>Defining recipient e-mails</h4><p class="paragraph"/><h5>To</h5><p class="paragraph"/>To set the recipient e-mail, use the <strong class="bold">to</strong> method.<p class="paragraph"/><div class="code"><pre>to <span class="java&#45;quote">"user@myapp.com"</span></pre></div><p class="paragraph"/>You can send to multiple addresses doing this:<p class="paragraph"/><div class="code"><pre>to <span class="java&#45;quote">"user<code>myapp.com"</span>, <span class="java&#45;quote">"user2</code>myapp.com"</span>, <span class="java&#45;quote">"user3@myapp.com"</span></pre></div><p class="paragraph"/><h5>CC and BCC</h5><p class="paragraph"/>To set CC and BCC addresses, you can do the same as <strong class="bold">to</strong> addresses:<p class="paragraph"/><div class="code"><pre>cc <span class="java&#45;quote">"copied@myapp.com"</span></pre></div><p class="paragraph"/><div class="code"><pre>bcc <span class="java&#45;quote">"you&#45;dont&#45;know&#45;me&#64;myapp.com"</span></pre></div><p class="paragraph"/>And again, for multiple addresses:<p class="paragraph"/><div class="code"><pre>ccc <span class="java&#45;quote">"user1&#64;myapp.com"</span>, <span class="java&#45;quote">"user2&#64;myapp.com"</span>, <span class="java&#45;quote">"user3&#64;myapp.com"</span></pre></div><p class="paragraph"/><div class="code"><pre>bcc <span class="java&#45;quote">"user4&#64;myapp.com"</span>, <span class="java&#45;quote">"user5&#64;myapp.com"</span>, <span class="java&#45;quote">"user6&#64;myapp.com"</span></pre></div><p class="paragraph"/><h4>Setting the e-mail subject</h4><p class="paragraph"/>To set the subject, following other parameters convention:<p class="paragraph"/><div class="code"><pre>subject <span class="java&#45;quote">"Testing the AWS Plugin"</span></pre></div><p class="paragraph"/><h4>E-mail body</h4><p class="paragraph"/>And finally, the e-mail body can be set with:<p class="paragraph"/><div class="code"><pre>body <span class="java&#45;quote">"This is the text user will receive in the e&#45;mail body"</span></pre></div><p class="paragraph"/><h4>Defining the reply-to address</h4><p class="paragraph"/>You can set the reply-to header of your mail message using the <strong class="bold">replyTo</strong> closure parameter. And you can pass one string, or a list of e-mails that will be set as 'reply-to' header.<p class="paragraph"/><strong class="bold">One e-mail</strong><p class="paragraph"/><div class="code"><pre>replyTo <span class="java&#45;quote">"my&#45;other&#45;email@gmail.com"</span></pre></div><p class="paragraph"/><strong class="bold">Multiple e-mails</strong>
<div class="code"><pre>replyTo <span class="java&#45;quote">"my&#45;other&#45;email&#45;1<code>gmail.com"</span>, <span class="java&#45;quote">"my&#45;other&#45;email&#45;2</code>gmail.com"</span>, <span class="java&#45;quote">"my&#45;other&#45;email&#45;3@gmail.com"</span></pre></div>



                <div style="clear:both;margin-top:15px;"></div>
                
                    <div class="toc-item prev-left"><a href="../../guide/2%20Amazon%20Simple%20Storage%20Service%20(AWS%20S3).html">&lt;&lt; <strong>2</strong><span>Amazon Simple Storage Service (AWS S3)</span></a></div>
                
                    <div class="toc-item next-right"><a href="../../guide/4%20FAQ.html"><strong>4</strong><span>FAQ</span> >></a></div>
                
                <div style="clear:both"></div>
            </div>
        </td>
        <td id="col2">
            <div class="local clearfix">
                <div class="local-title">
                    <a href="../../guide/index.html" target="mainFrame">Quick Reference</a>
                    <span class="toggle">(<a href="#" onclick="localToggle(); return false;">hide</a>)</span>
                </div>
                <div class="menu">
                    
                    <div class="menu-block"><h1 class="menu-title" onclick="toggleRef(this.parentNode.childNodes[1])">SES</h1><div class="menu-sub">
                        
                            
                            <div class="menu-item"><a href="../../ref/SES/aws-ses-get-send-quota.html">aws-ses-get-send-quota</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/SES/aws-ses-get-send-statistics.html">aws-ses-get-send-statistics</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/SES/aws-ses-list-verified-emails.html">aws-ses-list-verified-emails</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/SES/aws-ses-send-ping-mail.html">aws-ses-send-ping-mail</a>
                            </div>
                            
                            <div class="menu-item"><a href="../../ref/SES/aws-ses-verify-email.html">aws-ses-verify-email</a>
                            </div>
                            
                            </div>
                    </div>
                    
                </div>
            </div>
        </td>
    </tr>
</table>

<div id="footer">
    
    
</div>

<script type="text/javascript" src="../js/docs.js"></script>

</body>
</html>
